# دائرة جان 360 مع الأسواق المالية العالمية

## 🌟 نظرة عامة

تم تطوير نسخة متقدمة من دائرة جان 360 تدعم ربط البيانات المالية اللحظية من جميع الأسواق العالمية مع أنماط التحليل الفني المتقدمة.

## 🚀 الميزات الجديدة

### 📊 الأسواق المدعومة
- **💰 العملات الرقمية** (Bitcoin, Ethereum, Binance Coin, وأكثر)
- **💱 الفوركس** (EUR/USD, GBP/USD, USD/JPY, وأكثر)
- **🏢 السوق الأمريكي** (Apple, Microsoft, Tesla, وأكثر)
- **🇸🇦 السوق السعودي (تاسي)** (أرامكو, الراجحي, سابك, وأكثر)
- **🥇 السلع** (الذهب, الفضة, النفط, وأكثر)
- **📊 المؤشرات** (S&P 500, NASDAQ, تاسي, وأكثر)

### 🎨 التلوين الذكي للخلايا
- **🟢 أخضر**: السعر في اتجاه صاعد
- **🔴 أحمر**: السعر في اتجاه هابط
- **🟡 أصفر**: نقاط الانعكاس المحتملة
- **⚪ أبيض**: حالة محايدة أو عدم وجود بيانات

### 📈 أنماط التحليل الفني
1. **تحليل جان الكلاسيكي**
   - زوايا جان الأساسية (1x1, 1x2, 2x1, إلخ...)
   - مربعات الوقت والسعر
   - دورات زمنية
   - مراوح جان

2. **فيبوناتشي المتقدم**
   - مستويات الارتداد (23.6%, 38.2%, 50%, 61.8%, 78.6%)
   - امتدادات فيبوناتشي
   - المناطق الزمنية
   - أقواس فيبوناتشي

3. **موجات إليوت**
   - الموجات الدافعة 5-3
   - موجات التصحيح ABC
   - الموجات الفرعية

4. **الأنماط الكلاسيكية**
   - الرأس والكتفين
   - القاع/القمة المزدوجة
   - المثلثات
   - القنوات السعرية

5. **الشموع اليابانية**
   - أنماط الانعكاس
   - أنماط الاستمرار
   - الدوجي وأنواعه

6. **تحليل الحجم**
   - مؤشر OBV
   - تدفق الأموال
   - انحراف الحجم

## 🔧 كيفية الاستخدام

### 1. تفعيل الأسواق المالية
```
1. انقر على زر "📊 الأسواق المالية"
2. اختر الأسواق التي تريد مراقبتها
3. فعل "🎨 تلوين الأسعار" لرؤية التحديثات على الدائرة
```

### 2. عرض التحليل الفني
```
1. انقر على زر "📈 التحليل الفني"
2. اختر نوع التحليل (جان، المستويات، الأنماط)
3. راقب التحديثات في الوقت الفعلي
```

### 3. إعدادات متقدمة
```
1. انقر على زر "⚙️ إعدادات السوق"
2. اضبط إعدادات التحديث والعرض
3. اختر طريقة التكامل مع جان
```

### 4. عرض البيانات على الدائرة
```
1. فعل "🔗 عرض البيانات"
2. ستظهر رموز الأسواق وأسعارها على الدائرة
3. الألوان تتغير حسب حركة الأسعار
```

## 📡 مصادر البيانات

### البيانات اللحظية (Real-time)
- **Binance API** للعملات الرقمية
- **Finnhub API** للفوركس والأسهم
- **IEX Cloud** للسوق الأمريكي
- **محاكاة متقدمة** للسوق السعودي (تاسي)
- **Metals API** للسلع
- **MarketStack** للمؤشرات

### تأخير البيانات
- العملات الرقمية: **لحظي**
- الفوركس: **1-5 دقائق**
- الأسهم الأمريكية: **لحظي** (مع API مدفوع)
- تاسي: **15 دقيقة** (محاكاة للعرض)
- السلع: **5-15 دقيقة**
- المؤشرات: **5-30 دقيقة**

## 🧮 خوارزمية ربط السعر بالدائرة

```javascript
// تحويل السعر إلى موقع في دائرة 360
function calculateGannPosition(price) {
  // تحويل السعر إلى أرقام
  const digits = price.toString().replace('.', '');
  
  // جمع الأرقام للحصول على رقم مختزل
  const sum = digits.split('').reduce((a, b) => a + parseInt(b), 0);
  const reducedNumber = ((sum - 1) % 9) + 1;
  
  // تحديد القطاع (1-36)
  const sector = Math.floor(((reducedNumber - 1) / 9) * 36) + 1;
  
  // تحديد الزاوية (0-360°)
  const angle = ((reducedNumber - 1) / 9) * 360;
  
  return { sector, angle, reducedNumber };
}
```

## 🎯 أمثلة عملية

### مثال 1: Bitcoin (BTC)
```
السعر: $43,567.89
الأرقام: 4356789
المجموع: 4+3+5+6+7+8+9 = 42
الرقم المختزل: 4+2 = 6
القطاع: 24 (من 36)
الزاوية: 240°
```

### مثال 2: أرامكو (2222)
```
السعر: 34.50 ريال
الأرقام: 3450
المجموع: 3+4+5+0 = 12
الرقم المختزل: 1+2 = 3
القطاع: 12 (من 36)
الزاوية: 120°
```

## ⚙️ الإعدادات المتقدمة

### إعدادات التحديث
- **لحظي**: كل ثانية واحدة
- **سريع**: كل 5 ثوان
- **عادي**: كل 30 ثانية
- **بطيء**: كل 5 دقائق

### إعدادات التلوين
- **حساسية الانعكاس**: عالية، متوسطة، منخفضة
- **أدنى تغيير للتلوين**: 0.1% - 10%
- **مدة بقاء اللون**: 1-60 ثانية

### إعدادات التكامل مع جان
- **السعر فقط**: ربط الأسعار بالقطاعات
- **الوقت فقط**: ربط التوقيت بالدورات
- **السعر والوقت**: التكامل الكامل
- **الحجم**: إضافة بيانات الحجم

## 🔒 الأمان والخصوصية

- جميع البيانات تتم معالجتها في المتصفح
- لا يتم حفظ أي بيانات شخصية
- الاتصالات مشفرة (HTTPS/WSS)
- إمكانية العمل في وضع عدم الاتصال

## 🚨 التنبيهات والإشعارات

### تنبيهات الأسعار
- تغيير السعر بنسب محددة (1%, 2%, 5%, 10%)
- كسر مستويات الدعم والمقاومة
- وصول لنقاط انعكاس محتملة

### تنبيهات تقنية
- كسر زوايا جان
- اختراق مستويات فيبوناتشي
- تشكيل أنماط فنية جديدة

## 📱 التوافق والأداء

### المتطلبات التقنية
- متصفح حديث يدعم HTML5 Canvas
- اتصال إنترنت مستقر
- ذاكرة متاحة: 500MB+
- معالج: متوسط أو أعلى

### الأداء
- تحديث سلس 30 إطار/ثانية
- استهلاك شبكة محسن
- ذاكرة محدودة ومنظفة تلقائياً

## 🛠️ التطوير والتخصيص

### للمطورين
```javascript
// إضافة سوق جديد
const newMarket = {
  type: 'custom',
  symbol: 'CUSTOM',
  name: 'سوق مخصص',
  dataSource: 'custom-api',
  updateInterval: 5000
};

// إضافة نمط تحليل جديد
const newPattern = {
  name: 'نمط مخصص',
  calculate: (data) => {
    // حسابات النمط
  },
  render: (ctx, position) => {
    // رسم النمط
  }
};
```

### التخصيص
- إضافة أسواق جديدة
- تطوير أنماط تحليل مخصصة
- تعديل ألوان وأشكال العرض
- ربط مصادر بيانات إضافية

## 📞 الدعم والمساعدة

### الأسئلة الشائعة
**س: كيف يمكنني إضافة سوق جديد؟**
ج: استخدم قائمة "📊 الأسواق المالية" واختر من الأسواق المتاحة.

**س: لماذا لا تتحدث الألوان؟**
ج: تأكد من تفعيل "🎨 تلوين الأسعار" ووجود اتصال إنترنت.

**س: هل البيانات دقيقة؟**
ج: البيانات مأخوذة من مصادر موثوقة، لكن قد يكون هناك تأخير حسب نوع السوق.

### طلب المساعدة
- راجع الوثائق التقنية
- تحقق من رسائل الخطأ في Console
- تأكد من صحة مفاتيح API
- استخدم وضع التجربة للاختبار

## 🔮 الخطط المستقبلية

### الإصدارات القادمة
- [ ] دعم المزيد من الأسواق العالمية
- [ ] تحليل متقدم للذكاء الاصطناعي
- [ ] تنبيهات صوتية ومرئية
- [ ] تصدير التقارير والتحليلات
- [ ] وضع التداول المحاكي
- [ ] دعم العملات المحلية
- [ ] تطبيق موبايل مصاحب

### التحسينات المخططة
- تحسين سرعة الاستجابة
- واجهة مستخدم محسنة
- دعم المزيد من اللغات
- تكامل مع منصات التداول

---

**تطوير**: فريق تطوير دائرة جان 360  
**الإصدار**: 2.0.0  
**التاريخ**: 2025  
**الترخيص**: للاستخدام التعليمي والبحثي
